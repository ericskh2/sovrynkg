---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/knowledge_graph.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/knowledge_graph.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BoltConnectionUnsuccessful" class="doc_header"><code>class</code> <code>BoltConnectionUnsuccessful</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L34" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BoltConnectionUnsuccessful</code>() :: <code>Exception</code></p>
</blockquote>
<p>Common base class for all non-exit exceptions.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_driver" class="doc_header"><code>make_driver</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L37" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_driver</code>(<strong><code>uri</code></strong>=<em><code>'bolt://localhost:7687'</code></em>, <strong><code>auth</code></strong>=<em><code>'neo4j/staysovryn'</code></em>, <strong><code>container</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Create a driver for neo4j database.
uri: str
    The uri to the bolt port of the database
auth: str
    auth string in the form of user/password
container: docker container object
    If provider, the uri will be figured out automatically by examining the container.
    uri will be ignored if container is provided</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="default_driver" class="doc_header"><code>default_driver</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>default_driver</code>(<strong><code>force_remake</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tearDown" class="doc_header"><code>tearDown</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tearDown</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run_neo4j" class="doc_header"><code>run_neo4j</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L74" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run_neo4j</code>(<strong><code>version</code></strong>=<em><code>'3.5.3'</code></em>, <strong><code>run_on_set_ports</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Spin up a new neo4j in a docker instance if one is not already running.
Set the ichordb default driver to point to this test database.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;sovrynkg&#39;</span>
<span class="n">container</span> <span class="o">=</span> <span class="n">run_neo4j</span><span class="p">(</span><span class="n">container_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">run_on_set_ports</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">default_driver</span><span class="p">(</span><span class="n">force_remake</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">)</span>
<span class="n">driver</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;neo4j.BoltDriver at 0x7f82d29ca0d0&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Query" class="doc_header"><code>class</code> <code>Query</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L100" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Query</code>(<strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_constraint" class="doc_header"><code>add_constraint</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L171" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_constraint</code>(<strong><code>nodetype</code></strong>, <strong><code>prop</code></strong>, <strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_constraints" class="doc_header"><code>add_constraints</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L178" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_constraints</code>(<strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="start_fresh" class="doc_header"><code>start_fresh</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L182" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>start_fresh</code>(<strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_address" class="doc_header"><code>make_address</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L191" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_address</code>(<strong><code>address_obj</code></strong>, <strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_address_if_needed" class="doc_header"><code>create_address_if_needed</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L205" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_address_if_needed</code>(<strong><code>addy</code></strong>:<code>str</code>, <strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>addy is the address string</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="chainheight" class="doc_header"><code>chainheight</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L227" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>chainheight</code>(<strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CanOnlyAddBlocksToTheEnd" class="doc_header"><code>class</code> <code>CanOnlyAddBlocksToTheEnd</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L232" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CanOnlyAddBlocksToTheEnd</code>() :: <code>Exception</code></p>
</blockquote>
<p>Common base class for all non-exit exceptions.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Block" class="doc_header"><code>class</code> <code>Block</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L235" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Block</code>(<strong><code>height</code></strong>, <strong><code>signed_at</code></strong>, <strong><code>driver</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Transaction" class="doc_header"><code>class</code> <code>Transaction</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L267" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Transaction</code>(<strong><code>block_height</code></strong>:<code>int</code>, <strong><code>block_signed_at</code></strong>:<code>str</code>, <strong><code>from_address</code></strong>:<code>str</code>, <strong><code>from_address_label</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>gas_offered</code></strong>:<code>int</code>, <strong><code>gas_price</code></strong>:<code>int</code>, <strong><code>gas_quote</code></strong>:<code>int</code>, <strong><code>gas_quote_rate</code></strong>:<code>int</code>, <strong><code>gas_spent</code></strong>:<code>int</code>, <strong><code>log_events</code></strong>:<code>List</code>[<code>T</code>], <strong><code>successful</code></strong>:<code>bool</code>, <strong><code>to_address</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>to_address_label</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>tx_hash</code></strong>:<code>str</code>, <strong><code>tx_offset</code></strong>:<code>int</code>, <strong><code>value</code></strong>:<code>int</code>, <strong><code>value_quote</code></strong>:<code>int</code>) :: <code>BaseModel</code></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LogEvent" class="doc_header"><code>class</code> <code>LogEvent</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L345" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LogEvent</code>(<strong><code>tx_hash</code></strong>:<code>str</code>, <strong><code>tx_offset</code></strong>:<code>int</code>, <strong><code>raw_log_data</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>log_offset</code></strong>:<code>int</code>, <strong><code>raw_log_topics</code></strong>:<code>List</code>[<code>str</code>], <strong><code>decoded</code></strong>:<code>dict</code>=<em><code>None</code></em>, <strong><code>sender_address</code></strong>:<code>str</code>) :: <code>BaseModel</code></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_when_raw_data_is_none</span><span class="p">():</span>
    <span class="n">smallevent</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;block_signed_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2020-09-30T14:43:59Z&#39;</span><span class="p">,</span>
     <span class="s1">&#39;block_height&#39;</span><span class="p">:</span> <span class="mi">2742418</span><span class="p">,</span>
     <span class="s1">&#39;tx_hash&#39;</span><span class="p">:</span> <span class="s1">&#39;0x4fbd96b8a2094b7233a914bbf3a253d8823c9db8469a5c30daae405535f2e8ec&#39;</span><span class="p">,</span>
     <span class="s1">&#39;tx_offset&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="s1">&#39;successful&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
     <span class="s1">&#39;from_address&#39;</span><span class="p">:</span> <span class="s1">&#39;0x7be508451cd748ba55dcbe75c8067f9420909b49&#39;</span><span class="p">,</span>
     <span class="s1">&#39;from_address_label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
     <span class="s1">&#39;to_address&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
     <span class="s1">&#39;to_address_label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
     <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
     <span class="s1">&#39;value_quote&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
     <span class="s1">&#39;gas_offered&#39;</span><span class="p">:</span> <span class="mi">6800000</span><span class="p">,</span>
     <span class="s1">&#39;gas_spent&#39;</span><span class="p">:</span> <span class="mi">1898951</span><span class="p">,</span>
     <span class="s1">&#39;gas_price&#39;</span><span class="p">:</span> <span class="mi">65000002</span><span class="p">,</span>
     <span class="s1">&#39;gas_quote&#39;</span><span class="p">:</span> <span class="mf">0.04437211534973109</span><span class="p">,</span>
     <span class="s1">&#39;gas_quote_rate&#39;</span><span class="p">:</span> <span class="mf">359.4868469238281</span><span class="p">,</span>
     <span class="s1">&#39;log_events&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;block_signed_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2020-09-30T14:43:59Z&#39;</span><span class="p">,</span>
       <span class="s1">&#39;block_height&#39;</span><span class="p">:</span> <span class="mi">2742418</span><span class="p">,</span>
       <span class="s1">&#39;tx_offset&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
       <span class="s1">&#39;log_offset&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
       <span class="s1">&#39;tx_hash&#39;</span><span class="p">:</span> <span class="s1">&#39;0x4fbd96b8a2094b7233a914bbf3a253d8823c9db8469a5c30daae405535f2e8ec&#39;</span><span class="p">,</span>
       <span class="s1">&#39;_raw_log_topics_bytes&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;raw_log_topics&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0&#39;</span><span class="p">,</span>
        <span class="s1">&#39;0x0000000000000000000000000000000000000000000000000000000000000000&#39;</span><span class="p">,</span>
        <span class="s1">&#39;0x0000000000000000000000007be508451cd748ba55dcbe75c8067f9420909b49&#39;</span><span class="p">],</span>
       <span class="s1">&#39;sender_contract_decimals&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;sender_name&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;sender_contract_ticker_symbol&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;sender_address&#39;</span><span class="p">:</span> <span class="s1">&#39;0x5a0d867e0d70fcc6ade25c3f1b89d618b5b4eaa7&#39;</span><span class="p">,</span>
       <span class="s1">&#39;sender_address_label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;sender_logo_url&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;raw_log_data&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
       <span class="s1">&#39;decoded&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;OwnershipTransferred&#39;</span><span class="p">,</span>
        <span class="s1">&#39;signature&#39;</span><span class="p">:</span> <span class="s1">&#39;OwnershipTransferred(indexed address previousOwner, indexed address newOwner)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;previousOwner&#39;</span><span class="p">,</span>
          <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;address&#39;</span><span class="p">,</span>
          <span class="s1">&#39;indexed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;decoded&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;0x0000000000000000000000000000000000000000&#39;</span><span class="p">},</span>
         <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;newOwner&#39;</span><span class="p">,</span>
          <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;address&#39;</span><span class="p">,</span>
          <span class="s1">&#39;indexed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;decoded&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;0x7be508451cd748ba55dcbe75c8067f9420909b49&#39;</span><span class="p">}]}}]}</span>
    <span class="n">tx</span> <span class="o">=</span><span class="n">Transaction</span><span class="p">(</span><span class="o">**</span><span class="n">smallevent</span><span class="p">)</span>
    <span class="n">le</span> <span class="o">=</span> <span class="p">[</span><span class="n">LogEvent</span><span class="p">(</span><span class="o">**</span><span class="n">le</span><span class="p">)</span> <span class="k">for</span> <span class="n">le</span> <span class="ow">in</span> <span class="n">tx</span><span class="o">.</span><span class="n">log_events</span><span class="p">]</span>

    <span class="n">TESTCASE</span><span class="o">.</span><span class="n">assertDictEqual</span><span class="p">({</span><span class="s1">&#39;previousOwner&#39;</span><span class="p">:</span> <span class="s1">&#39;0x0000000000000000000000000000000000000000&#39;</span><span class="p">,</span>
  <span class="s1">&#39;newOwner&#39;</span><span class="p">:</span> <span class="s1">&#39;0x7be508451cd748ba55dcbe75c8067f9420909b49&#39;</span><span class="p">},</span>
                                 <span class="n">le</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">()[</span><span class="s1">&#39;decoded&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
<span class="n">test_when_raw_data_is_none</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_transactions" class="doc_header"><code>create_transactions</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L454" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_transactions</code>(<strong><code>transactions</code></strong>:<code>list</code>)</p>
</blockquote>
<p>transactions: list of Transactions objects</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_transactions" class="doc_header"><code>load_transactions</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L466" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_transactions</code>(<strong><code>fname</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ls" class="doc_header"><code>ls</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L478" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ls</code>(<strong><code>fpath</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_all_transactions" class="doc_header"><code>create_all_transactions</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L481" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_all_transactions</code>(<strong><code>fpath</code></strong>, <strong><code>glob</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_main" class="doc_header"><code>is_main</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L495" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_main</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="start_log" class="doc_header"><code>start_log</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L499" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>start_log</code>(<strong><code>logger_name</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Start a log that prints to stdout</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_knowledge_graph" class="doc_header"><code>create_knowledge_graph</code><a href="https://github.com/talosiot-will/sovrynkg/tree/master/sovrynkg/knowledge_graph.py#L513" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_knowledge_graph</code>(<strong><code>fpath</code></strong>, <strong><code>glob</code></strong>=<em>`'result.</em>__<em>'`</em>, <strong><code>delete_existing_database</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Creates the sovryn knowledge graph</p>
<p>:param fpath: Directory path to the results files
:param glob: glob pattern for finding results files within the <code>fpath</code> directory
:param delete_existing_database: delete the existing database first?  False by default</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">notebook2script</span><span class="p">(</span><span class="n">_nbpath</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted knowledge_graph.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

